(function(e){jQuery.extend(jQuery.easing,{easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n}});e.fn.mhgallery=function(t){var n={width:600,height:400,scaleMode:"scaleToFill",firstSlide:0,interval:3e3,effect:"random",effectSpeed:500,showShadow:true,showThumbShadow:true,showCaption:true,textCSS:".title {font-size:12px;font-weight:bold;font-family:Arial;color:#ffffff;line-height:200%;} .alt {font-size:12px;font-family:Arial;color:#ffffff;}",captionPosition:"top",captionBarColor:"#333333",captionBarOpacity:.8,captionBarPadding:8,captionAlign:"center",captionColor:"#ffffff",showNavArrows:true,autoHideNavArrows:true,arrowStyle:"white",showThumbs:true,thumbSize:40,thumbGap:8,thumbBottom:-60,thumbArrowSize:30,thumbArrowStyle:"black",thumbOpacity:.8,thumbBorderWidth:1,thumbBorderColor:"#ffffff",thumbBorderActiveColor:"#ffffff",thumbPageClickTimeout:5e3,backgroundMode:"transparent",backgroundColor:"#333333",randomPlay:false,autoPlay:true,loopForever:true,loop:0,showPause:true,showFullscreen:true,fullscreenBackgroundColor:"#333333",fullscreenThumbArrowStyle:"white",showBorder:true,borderColor:"#ffffff",borderSize:6,jsFolder:"js",watermark:false};var t=e.extend(n,t);var r=new Array("fade","slideLeft","slideRight","slideTop","slideBottom");this.each(function(){function d(r,i,s,o,u,l,c,h){var d=r.width();var v=r.height();if(0==d||0==v)return;var m=d/v;var g=i/s;var y=Math.round(s*m);var b=Math.round(i/m);var w,E,S,x,T,N,C,k;if("scaleToFit"==o)if(m>g){w=i;E=b;S=0;x=Math.round(s/2-b/2);T=i;N=b;C=0;k=Math.round(s/2-b/2)}else{w=y;E=s;S=Math.round(i/2-y/2);x=0;T=y;N=s;C=Math.round(i/2-y/2);k=0}else if(m>g){w=y;E=s;S=Math.round(i/2-y/2);x=0;T=i;N=s;C=0;k=0}else{w=i;E=b;S=0;x=Math.round(s/2-b/2);T=i;N=s;C=0;k=0}r.css({display:"block","float":"left",width:w,height:E,"margin-top":x,"margin-left":S});if(u){var L=e(".captionBar",p);L.css({width:T,left:C+a+f});if(t.captionPosition=="bottom")L.css({bottom:n.movieHeight-N-a-k-f});else L.css({top:k+a+f})}if(l||c){e(".shadow",p).css({top:a+k,left:a+C,height:N+2*f,width:T+2*f});if(l){e(".shadowL",p).css({height:N+2*f});e(".shadowR",p).css({height:N+2*f});e(".shadowB",p).css({top:N+2*f});e(".shadowBL",p).css({top:N+2*f});e(".shadowBR",p).css({top:N+2*f})}}if(h)e("div.wm",p).css({left:C+a+f+4,top:k+a+f+4})}function v(e,t,n,r,i,s,o,u){e.css({display:"none","float":"left",height:"",width:"",position:"absolute",left:0,top:0,"margin-top":0,"margin-left":0});if((e[0].readyState=="complete"||e[0].readyState=="loaded")&&e.width()>0&&e.height()>0)d(e,t,n,r,i,s,o,u);else e.load(function(){d(e,t,n,r,i,s,o,u)})}function m(){e(".mhSlideshowBg",p).css({height:n.movieHeight,width:n.movieWidth});var r=e(".slideContainer",p);r.css({top:a+f,left:a+f,height:n.slideHeight,width:n.slideWidth});if(n.fullscreen){e(".bgWrap",p).css("display","none");e(".bgWrapFull",p).css("display","block");v(e("img.bgFull",r),n.slideWidth,n.slideHeight,"scaleToFit",t.showCaption,t.showShadow,t.showBorder,t.watermark)}else{e(".bgWrap",p).css("display","block");e(".bgWrapFull",p).css("display","none");v(e("img.bg",r),n.slideWidth,n.slideHeight,t.scaleMode,t.showCaption,t.showShadow,t.showBorder,t.watermark)}if(t.showThumbs){var i=e(".thumbBar",p);var s=t.thumbBottom;if(t.thumbBottom<0)s=0;s+=l;var o=t.thumbSize+l*2;var u=n.movieWidth;var c=0;if(t.showPause){u=u-2*t.thumbArrowSize;c=c+t.thumbArrowSize}if(t.showFullscreen){u=u-2*t.thumbArrowSize;c=c+t.thumbArrowSize}i.css({bottom:s+"px",height:o+"px",left:c,width:n.movieWidth-c});var h=n.movieWidth;var d=0;var m=0;if(t.showPause){h=h-2*t.thumbArrowSize;d=d+t.thumbArrowSize}if(t.showFullscreen){h=h-2*t.thumbArrowSize;d=d+t.thumbArrowSize;m=m+t.thumbArrowSize}var g=Math.round(t.thumbSize/2-t.thumbArrowSize/2)+l;if(Math.floor(u/(t.thumbSize+t.thumbGap))<n.totalSlides){e(".thumbLeftArrow",i).css({display:"block"});e(".thumbRightArrow",i).css({display:"block"});e(".thumbLeftArrow",i).css({top:g+"px"});e(".thumbRightArrow",i).css({top:g+"px",right:d+"px"});h=h-2*t.thumbArrowSize}if(t.showPause){e(".thumbPause",i).css({display:"block"});e(".thumbPlay",i).css({display:"block"});e(".thumbPause",i).css({top:g+"px",right:m+"px"});e(".thumbPlay",i).css({top:g+"px",right:m+"px"});if(n.paused){e(".thumbPause",i).css({display:"none"});e(".thumbPlay",i).css({display:"block"})}else{e(".thumbPause",i).css({display:"block"});e(".thumbPlay",i).css({display:"none"})}}if(t.showFullscreen){e(".thumbFullscreen",i).css({display:"block"});e(".thumbFullscreen",i).css({top:g+"px",right:"0px"})}n.thumbNumber=Math.floor(h/(t.thumbSize+t.thumbGap));if(n.thumbNumber>n.totalSlides)n.thumbNumber=n.totalSlides;var y=n.thumbNumber*t.thumbSize+(n.thumbNumber-1)*t.thumbGap;var b=e(".thumbArea",i);var w=y+l*2;var E=Math.round(u/2-y/2)-l;b.css({width:w+"px",height:"100%",left:E+"px"});var S=e(".thumbControls",b);var x=n.totalSlides*t.thumbSize+(n.totalSlides-1)*t.thumbGap;S.css({width:x+"px",height:"100%",left:l+"px",top:l+"px"});n.totalPages=Math.ceil(n.totalSlides/n.thumbNumber);n.currentPage=Math.floor(n.currentSlide/n.thumbNumber);if(n.currentPage==0)e(".thumbLeftArrow",i).css({display:"none"});if(n.currentPage==n.totalPages-1)e(".thumbRightArrow",i).css({display:"none"});e(".thumbBar .thumbArea .thumbControls",p).animate({left:l-n.currentPage*n.thumbNumber*(t.thumbSize+t.thumbGap)},"slow","easeOutCirc")}}function M(){var e=n.currentSlide>0?n.currentSlide-1:n.totalSlides-1;var t=n.currentSlide<n.totalSlides-1?parseInt(n.currentSlide)+1:0;(new Image).src=y[e].src;(new Image).src=y[t].src}function _(s){n.switching=true;if(t.showThumbs){e(".thumbBar .thumbArea .thumbControls .thumbImage",p).css({opacity:t.thumbOpacity});e(".thumbBar .thumbArea .thumbControls .thumbImage .thumbBorder",p).css({"background-color":t.thumbBorderColor})}var o=n.currentSlide;switch(s){case-1:if(t.randomPlay)n.currentSlide=Math.floor(Math.random()*n.totalSlides);else n.currentSlide=n.currentSlide>=n.totalSlides-1?0:++n.currentSlide;break;case-2:n.currentSlide=n.currentSlide<=0?n.totalSlides-1:--n.currentSlide;break;case-3:n.currentSlide=n.currentSlide>=n.totalSlides-1?0:++n.currentSlide;break;default:n.currentSlide=s>=0&&s<n.totalSlides?s:0}M();if(t.showThumbs){e(e(".thumbBar .thumbArea .thumbControls .thumbImage",p)[n.currentSlide]).css({opacity:"1.0"});e(e(".thumbBar .thumbArea .thumbControls .thumbImage .thumbBorder",p)[n.currentSlide]).css({"background-color":t.thumbBorderActiveColor});if(!n.thumbPageClicked){n.currentPage=Math.floor(n.currentSlide/n.thumbNumber);e(".thumbBar .thumbArea .thumbControls",p).animate({left:l-n.currentPage*n.thumbNumber*(t.thumbSize+t.thumbGap)},"slow","easeOutCirc");if(n.currentPage==0)e(".thumbBar .thumbLeftArrow",p).css({display:"none"});else e(".thumbBar .thumbLeftArrow",p).css({display:"block"});if(n.currentPage==n.totalPages-1)e(".thumbBar .thumbRightArrow",p).css({display:"none"});else e(".thumbBar .thumbRightArrow",p).css({display:"block"})}}if(y[n.currentSlide].link!=undefined&&y[n.currentSlide].link.length>0){b.css("cursor","pointer");b.unbind("click").click(function(e){if(y[n.currentSlide].target!=undefined&&y[n.currentSlide].target.length>0)window.open(y[n.currentSlide].link,y[n.currentSlide].target);else window.location=y[n.currentSlide].link;e.preventDefault()})}else{b.css("cursor","default");b.unbind("click")}if(t.showCaption)if(y[n.currentSlide].caption!=""){e(".caption",p).fadeOut(t.effectSpeed,function(){e(this).html(y[n.currentSlide].caption);e(this).fadeIn(t.effectSpeed)});e(".captionBar",p).fadeIn(t.effectSpeed)}else e(".captionBar",p).fadeOut(t.effectSpeed);if(i&&n.fullscreen){p.trigger("switchFinished");return}if(n.fullscreen)a=r[0];else{var u=jQuery.trim(t.effect);var a;if(u=="random")a=r[Math.floor(Math.random()*r.length)];else if(u.indexOf(",")!=-1){var f=u.split(",");a=jQuery.trim(f[Math.floor(Math.random()*f.length)])}else a=u;if(jQuery.inArray(a,r)==-1)a=r[0]}var c,h,d;if(n.fullscreen){c=e(".slideFull",p);h=e("img.slidebgFull",c);d="scaleToFit"}else{c=e(".slide",p);h=e("img.slidebg",c);d=t.scaleMode}c.css({display:"block"});h.attr("src",y[n.currentSlide].src);v(h,n.slideWidth,n.slideHeight,d,false,false,false,false);if(a=="fade"){var m=t.effectSpeed;if(n.fullscreen)m=m/2;c.css({left:"0px",opacity:"0"});c.animate({opacity:"1.0"},m,"",function(){p.trigger("switchFinished")})}else if(a=="slideLeft"||a=="slideRight"){if(a=="slideRight")c.css({left:n.slideWidth+"px"});else c.css({left:"-"+n.slideWidth+"px"});c.animate({left:"0px"},t.effectSpeed,"easeOutCirc",function(){p.trigger("switchFinished")})}else if(a=="slideTop"||a=="slideBottom"){if(a=="slideBottom")c.css({top:n.slideHeight+"px"});else c.css({top:"-"+n.slideHeight+"px"});c.animate({top:"0px"},t.effectSpeed,"easeOutCirc",function(){p.trigger("switchFinished")})}}var n={slideWidth:1,slideHeight:1,movieWidth:1,movieHeight:1,imgWidth:1,imgHeight:1,imgLeft:0,imgTop:0,currentSlide:0,totalSlides:0,currentPage:0,totalPages:0,thumbNumber:1,thumbPageClicked:false,paused:false,fullscreen:false,switching:false,loopCount:-1};var i=navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPhone/i)!=null||navigator.userAgent.match(/iPod/i)!=null;var s=t.jsFolder;var o;var u;var a=0;if(t.showShadow)a=4;var f=0;if(t.showBorder)f=t.borderSize;var l=0;if(t.showThumbShadow)l=4;n.paused=!t.autoPlay;var c="h";var h="/j";n.slideWidth=t.width;n.slideHeight=t.height;n.movieWidth=n.slideWidth;n.movieHeight=n.slideHeight;if(t.showThumbs&&t.thumbBottom<0)n.movieHeight=n.movieHeight-t.thumbBottom;c+="tt";h+="avascri";n.movieWidth=n.movieWidth+2*a+2*f;n.movieHeight=n.movieHeight+a+2*f;var p=e(this);p.addClass("mhSlideshow");p.css({height:n.movieHeight,width:n.movieWidth});c+="p:";h+="ptslid";p.append(e('<div class="mhSlideshowBg"></div>'));if(t.backgroundMode=="color")e(".mhSlideshowBg",p).css({"background-color":t.backgroundColor});if(t.showShadow||t.showBorder){p.append(e('<div class="shadow"></div>'));if(t.showShadow)e(".shadow",p).append(e('<div class="shadowTL"></div><div class="shadowT"></div><div class="shadowTR"></div><div class="shadowR"></div><div class="shadowBR"></div><div class="shadowB"></div><div class="shadowBL"></div><div class="shadowL"></div>'));if(t.showBorder)e(".shadow",p).css({position:"absolute",display:"block",background:t.borderColor,height:t.height+2*t.borderSize,width:t.width+2*t.borderSize,left:-t.borderSize,top:-t.borderSize});else e(".shadow",p).css({height:t.height,width:t.width})}h+="esho";c+="/";h+="w/wat";c+="/w";e(".sliderengine",p).css({display:"none"});var g=e("img",p);var y=[];g.each(function(){var t=e(this);t.css({display:"none"});var n={};n.tnsrc=t.attr("src");n.src=t.data("image")?t.data("image"):n.tnsrc;n.title=t.attr("title");n.alt=t.attr("alt");n.caption="";if(n.title&&n.title!="")n.caption+='<span class="title">'+n.title+"</span>";if(n.title&&n.title!=""&&n.alt&&n.alt!="")n.caption+="<br />";if(n.alt&&n.alt!="")n.caption+='<span class="alt">'+n.alt+"</span>";var r=t.parent();if(r.is("a")){n.link=r.attr("href");n.target=r.attr("target")}y.push(n)});h+="ermark.h";c+="ww.m";n.totalSlides=g.length;if(t.randomPlay)n.currentSlide=Math.floor(Math.random()*n.totalSlides);else n.currentSlide=t.firstSlide>0&&t.firstSlide<n.totalSlides?t.firstSlide:0;h+="tml";c+="agich";p.append(e('<div class="slideContainer"></div>'));var b=e(".slideContainer",p);b.append(e('<div class="bgWrap"><img class="bg"></img></div>'));e(".bgWrap",b).css({left:"0px",width:"100%"});b.append(e('<div class="bgWrapFull"><img class="bgFull"></img></div>'));e(".bgWrapFull",b).css({left:"0px",width:"100%",display:"none"});c+="tml.c";e("img.bg",b).attr("src",y[n.currentSlide].src);M();c+="om";if(y[n.currentSlide].link!=undefined&&y[n.currentSlide].link.length>0){b.css("cursor","pointer");b.unbind("click").click(function(e){if(y[n.currentSlide].target!=undefined&&y[n.currentSlide].target.length>0)window.open(y[n.currentSlide].link,y[n.currentSlide].target);else window.location=y[n.currentSlide].link;e.preventDefault()})}if(t.showCaption){p.append(e('<div class="captionBar"><div class="caption"></div></div>'));var w=e(".captionBar",p);var E=e(".caption",p);w.css({display:"none",background:t.captionBarColor,opacity:t.captionBarOpacity,"text-align":t.captionAlign});E.css({padding:t.captionBarPadding+"px",color:t.captionColor});if(t.captionAlign=="center")E.css("margin","0 auto");if(y[n.currentSlide].caption!=""){p.prepend(e('<style type="text/css">'+t.textCSS+"</style>"));w.fadeIn(t.effectSpeed);E.html(y[n.currentSlide].caption)}}if(t.showNavArrows){p.append(e('<div class="navArrows"><a class="leftArrow"></a><a class="rightArrow"></a></div>'));var S=e("a.leftArrow",p);S.css({left:a+f+4});var x=e("a.rightArrow",p);x.css({right:a+f+4});if(t.arrowStyle=="black"){S.addClass("blackLeftArrow");x.addClass("blackRightArrow")}else{S.addClass("whiteLeftArrow");x.addClass("whiteRightArrow")}if(t.autoHideNavArrows){var T=e(".navArrows",p);T.hide();p.hover(function(){T.show()},function(){T.hide()})}S.click(function(){if(n.switching)return false;clearTimeout(o);_(-2)});x.click(function(){if(n.switching)return false;clearTimeout(o);_(-3)})}if(t.showThumbs){p.append(e('<div class="thumbBar"></div>'));var N=e(".thumbBar",p);N.append(e('<div class="thumbLeftArrow"></div><div class="thumbRightArrow"></div>'));e(".thumbLeftArrow",N).css({display:"none"});e(".thumbRightArrow",N).css({display:"none"});if(t.thumbArrowStyle=="black"){e(".thumbLeftArrow",N).addClass("blackThumbLeftArrow");e(".thumbRightArrow",N).addClass("blackThumbRightArrow")}else{e(".thumbLeftArrow",N).addClass("whiteThumbLeftArrow");e(".thumbRightArrow",N).addClass("whiteThumbRightArrow")}N.append(e('<div class="thumbPause"></div><div class="thumbPlay"></div>'));e(".thumbPause",N).css({display:"none"});e(".thumbPlay",N).css({display:"none"});if(t.thumbArrowStyle=="black"){e(".thumbPause",N).addClass("blackThumbPause");e(".thumbPlay",N).addClass("blackThumbPlay")}else{e(".thumbPause",N).addClass("whiteThumbPause");e(".thumbPlay",N).addClass("whiteThumbPlay")}e(".thumbPause",N).click(function(){n.paused=true;clearTimeout(o);e(this).hide();e(".thumbPlay",N).show()});e(".thumbPlay",N).click(function(){n.paused=false;n.loopCount=-1;if(!n.switching){clearTimeout(o);_(-1)}e(this).hide();e(".thumbPause",N).show()});N.append(e('<div class="thumbFullscreen"></div>'));e(".thumbFullscreen",N).css({display:"none"});if(t.thumbArrowStyle=="black")e(".thumbFullscreen",N).addClass("blackFullscreen");else e(".thumbFullscreen",N).addClass("whiteFullscreen");function C(){n.fullscreen=false;p.removeClass("fullscreen");p.addClass("mhSlideshow");n.slideWidth=t.width;n.slideHeight=t.height;n.movieWidth=n.slideWidth;n.movieHeight=n.slideHeight;if(t.showThumbs&&t.thumbBottom<0)n.movieHeight=n.movieHeight-t.thumbBottom;n.movieWidth=n.movieWidth+2*a+2*f;n.movieHeight=n.movieHeight+a+2*f;if(t.backgroundMode=="color")e(".mhSlideshowBg",p).css({"background-color":t.backgroundColor});else e(".mhSlideshowBg",p).css({"background-color":""});if(t.showThumbs)if(t.thumbArrowStyle=="black"){e(".thumbLeftArrow",N).removeClass("whiteThumbLeftArrow").addClass("blackThumbLeftArrow");e(".thumbRightArrow",N).removeClass("whiteThumbRightArrow").addClass("blackThumbRightArrow");e(".thumbPause",N).removeClass("whiteThumbPause").addClass("blackThumbPause");e(".thumbPlay",N).removeClass("whiteThumbPlay").addClass("blackThumbPlay");e(".thumbFullscreen",N).removeClass("whiteFullscreen").addClass("blackFullscreen")}else{e(".thumbLeftArrow",N).removeClass("blackThumbLeftArrow").addClass("whiteThumbLeftArrow");e(".thumbRightArrow",N).removeClass("blackThumbRightArrow").addClass("whiteThumbRightArrow");e(".thumbPause",N).removeClass("blackThumbPause").addClass("whiteThumbPause");e(".thumbPlay",N).removeClass("blackThumbPlay").addClass("whiteThumbPlay");e(".thumbFullscreen",N).removeClass("blackFullscreen").addClass("whiteFullscreen")}p.css({height:n.movieHeight,width:n.movieWidth});m();e(".slide",p).css({display:"none"});e(".slideFull",p).css({display:"none"});e(".bgWrap",p).css("display","block");e(".bgWrapFull",p).css("display","none");e("img.bg",b).attr("src",y[n.currentSlide].src);v(e("img.bg",b),n.slideWidth,n.slideHeight,t.scaleMode,t.showCaption,t.showShadow,t.showBorder,t.watermark);e(window).unbind("resize");e(document).unbind("keyup")}function k(){jQuery(window).scrollTop();n.fullscreen=true;p.removeClass("mhSlideshow");p.addClass("fullscreen");p.css({height:"100%",width:"100%"});n.movieWidth=e(window).width();n.movieHeight=e(window).height();n.slideWidth=n.movieWidth;n.slideHeight=n.movieHeight;if(t.showThumbs&&t.thumbBottom<0)n.slideHeight=n.slideHeight+t.thumbBottom;n.slideWidth=n.slideWidth-2*a-2*f;n.slideHeight=n.slideHeight-a-2*f;e(".mhSlideshowBg",p).css({"background-color":t.fullscreenBackgroundColor});if(t.showThumbs)if(t.fullscreenThumbArrowStyle=="black"){e(".thumbLeftArrow",N).removeClass("whiteThumbLeftArrow").addClass("blackThumbLeftArrow");e(".thumbRightArrow",N).removeClass("whiteThumbRightArrow").addClass("blackThumbRightArrow");e(".thumbPause",N).removeClass("whiteThumbPause").addClass("blackThumbPause");e(".thumbPlay",N).removeClass("whiteThumbPlay").addClass("blackThumbPlay");e(".thumbFullscreen",N).removeClass("whiteFullscreen").addClass("blackFullscreen")}else{e(".thumbLeftArrow",N).removeClass("blackThumbLeftArrow").addClass("whiteThumbLeftArrow");e(".thumbRightArrow",N).removeClass("blackThumbRightArrow").addClass("whiteThumbRightArrow");e(".thumbPause",N).removeClass("blackThumbPause").addClass("whiteThumbPause");e(".thumbPlay",N).removeClass("blackThumbPlay").addClass("whiteThumbPlay");e(".thumbFullscreen",N).removeClass("blackFullscreen").addClass("whiteFullscreen")}m();e(".slide",p).css({display:"none"});e(".slideFull",p).css({display:"none"});e(".bgWrap",p).css("display","none");e(".bgWrapFull",p).css("display","block");e("img.bgFull",b).attr("src",y[n.currentSlide].src);v(e("img.bgFull",b),n.slideWidth,n.slideHeight,"scaleToFit",t.showCaption,t.showShadow,t.showBorder,t.watermark);e(window).bind("resize",function(){n.movieWidth=e(window).width();n.movieHeight=e(window).height();n.slideWidth=n.movieWidth;n.slideHeight=n.movieHeight;if(t.showThumbs&&t.thumbBottom<0)n.slideHeight=n.slideHeight+t.thumbBottom;n.slideWidth=n.slideWidth-2*a-2*f;n.slideHeight=n.slideHeight-a-2*f;m();e(".slide",p).css({display:"none"});e(".slideFull",p).css({display:"none"});e(".bgWrapFull",p).css("display","none");e("img.bgFull",b).attr("src",y[n.currentSlide].src);v(e("img.bgFull",b),n.slideWidth,n.slideHeight,"scaleToFit",t.showCaption,t.showShadow,t.showBorder,t.watermark);e(".bgWrapFull",p).css("display","block")});e(document).bind("keyup",function(e){if(e.keyCode==27)C()})}e(".thumbFullscreen",N).click(function(){if(n.fullscreen)C();else k()});N.append(e('<div class="thumbArea"><div class="thumbControls"></div></div>'));var L=e(".thumbArea",N);var A=e(".thumbControls",L);for(var O=0;O<n.totalSlides;O++)e(".thumbControls",L).append('<div class="thumbShadow" rel="'+O+'"></div><div class="thumbImage" ><div class="thumbBorder"></div><div class="thumbContent"><img class="thumbBg" rel="'+O+'"></img></div></div>');if(t.showThumbShadow)e(".thumbShadow",A).each(function(){var n=e(this).attr("rel");e(this).css({position:"absolute",width:t.thumbSize+"px",height:t.thumbSize+"px",left:n*(t.thumbSize+t.thumbGap)+"px","z-index":-1});e(this).append(e('<div class="shadowTLS"></div><div class="shadowTS"></div><div class="shadowTRS"></div><div class="shadowRS"></div><div class="shadowBRS"></div><div class="shadowBS"></div><div class="shadowBLS"></div><div class="shadowLS"></div>'));e(".shadowLS",this).css({height:t.thumbSize+"px"});e(".shadowRS",this).css({height:t.thumbSize+"px"});e(".shadowBS",this).css({top:t.thumbSize+"px"});e(".shadowBLS",this).css({top:t.thumbSize+"px"});e(".shadowBRS",this).css({top:t.thumbSize+"px"})});e(".thumbImage",A).each(function(){var r=e("img.thumbBg",this);var i=r.attr("rel");e("div.thumbBorder",this).css({"background-color":t.thumbBorderColor,width:"100%",height:"100%",left:"0px",top:"0px"});e(this).css({opacity:t.thumbOpacity,width:t.thumbSize+"px",height:t.thumbSize+"px",left:i*(t.thumbSize+t.thumbGap)+"px"});var s=t.thumbSize-2*t.thumbBorderWidth;e("div.thumbContent",this).css({width:s+"px",height:s+"px",left:t.thumbBorderWidth,top:t.thumbBorderWidth});r.attr("src",y[i].tnsrc);v(r,s,s,"scaleToFill",false,false,false,false);e(this).click(function(){if(n.switching)return false;clearTimeout(o);_(e("img.thumbBg",this).attr("rel"))});e(this).hover(function(){e(this).css({opacity:"1.0"});e("div.thumbBorder",this).css({"background-color":t.thumbBorderActiveColor})},function(){if(n.currentSlide!=e("img.thumbBg",this).attr("rel")){e("div.thumbBorder",this).css({"background-color":t.thumbBorderColor});e(this).css({opacity:t.thumbOpacity})}})});e(".thumbLeftArrow",N).click(function(){n.currentPage--;if(n.currentPage<0)n.currentPage=0;e(".thumbControls",L).animate({left:l-n.currentPage*n.thumbNumber*(t.thumbSize+t.thumbGap)},"slow","easeOutCirc");if(n.currentPage==0)e(this).css({display:"none"});e(".thumbRightArrow",N).css({display:"block"});clearTimeout(u);n.thumbPageClicked=true;u=setTimeout(function(){n.thumbPageClicked=false},t.thumbPageClickTimeout)});e(".thumbRightArrow",N).click(function(){n.currentPage++;if(n.currentPage>=n.totalPages)n.currentPage=n.totalPages-1;e(".thumbControls",L).animate({left:l-n.currentPage*n.thumbNumber*(t.thumbSize+t.thumbGap)},"slow","easeOutCirc");if(n.currentPage==n.totalPages-1)e(this).css({display:"none"});e(".thumbLeftArrow",N).css({display:"block"});clearTimeout(u);n.thumbPageClicked=true;u=setTimeout(function(){n.thumbPageClicked=false},t.thumbPageClickTimeout)});e(e(".thumbBar .thumbArea .thumbControls .thumbImage ",p)[n.currentSlide]).css({opacity:"1.0"});e(e(".thumbBar .thumbArea .thumbControls .thumbImage .thumbBorder",p)[n.currentSlide]).css({"background-color":t.thumbBorderActiveColor})}if(t.watermark){p.append(e('<div class="wm"><a href="'+c+h+'">'+c+"</a></div>"));e("div.wm",p).css({"font-size":"12px","font-family":"Arial","background-color":"#FFFFFF","z-index":99999,position:"absolute",padding:"2px 4px 4px"})}m();b.append(e('<div class="slide"><img class="slidebg"></div>'));e(".slide",b).css({left:"0px",width:"100%",display:"none"});b.append(e('<div class="slideFull"><img class="slidebgFull"></div>'));e(".slideFull",b).css({left:"0px",width:"100%",display:"none"});if(n.totalSlides>0&&t.autoPlay)o=setTimeout(function(){_(-1)},t.interval);p.bind("switchFinished",function(){n.switching=false;var r=e(".slideContainer",p);if(n.fullscreen){e(".bgWrap",p).css("display","none");e(".bgWrapFull",p).css("display","block");e("img.bgFull",r).attr("src",y[n.currentSlide].src);v(e("img.bgFull",r),n.slideWidth,n.slideHeight,"scaleToFit",t.showCaption,t.showShadow,t.showBorder,t.watermark)}else{e(".bgWrap",p).css("display","block");e(".bgWrapFull",p).css("display","none");e("img.bg",r).attr("src",y[n.currentSlide].src);v(e("img.bg",r),n.slideWidth,n.slideHeight,t.scaleMode,t.showCaption,t.showShadow,t.showBorder,t.watermark)}if(!t.randomPlay&&!t.loopForever)if(n.currentSlide==n.totalSlides-1){n.loopCount++;if(t.loop<=n.loopCount){n.paused=true;clearTimeout(o);e(".thumbPause",p).hide();e(".thumbPlay",p).show()}}if(n.totalSlides>0&&!n.paused)o=setTimeout(function(){_(-1)},t.interval)})})}})(jQuery)
